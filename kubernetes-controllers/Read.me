# –í—ã–ø–æ–ª–Ω–µ–Ω–æ –î–ó ‚Ññ2

 - [X] –û—Å–Ω–æ–≤–Ω–æ–µ –î–ó
 - [x] –ó–∞–¥–∞–Ω–∏–µ —Å–æ *

## –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–¥–µ–ª–∞–Ω–æ:
 - –±—ã–ª —Å–æ–∑–¥–∞–Ω deployment —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—â–∏–π 3 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ —Å–ª–µ–¥–∞—â–∏–π –∑–∞ –∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
 - –Ω–∞—É—á–∏–ª–∏—Å—å –æ–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
 - –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ probes –¥–ª—è –ø—Ä–æ–≤–µ—Ä—Ç–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç:
 - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è minikube –∫–æ–º–∞–Ω–¥–æ–π ``` minikube start --nodes 3 ```
 - –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ –ø—Ä–æ–µ–∫—Ç–∞, —Å –ø–æ–º–æ—â—å—é —É—Ç–∏–ª–∏—Ç—ã kubectl —Å–æ–∑–¥–∞–µ—Ç—Å—è namespace ``` kubectl create -f namespace.yaml ```
 - –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è namrspace, —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è deployment –ø–æ–¥–∞–º–∏ —Å –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º ``` kubectl creale -f deployment.yaml ```

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:
 - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º–µ–Ω –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π ``` kubectl get namespace | grep homework ```
    –æ—Ç–≤–µ—Ç–æ–º –±—É–¥–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ 
    ```console
    homework               Active   45h
    ```

  - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –ø–æ–¥—ã ``` kubectl get all --namespace homework | grep pod ```
    ```
    pod/dpl-webserver-667f89bd9b-9ljmt   0/1     Pending   0          10s
    pod/dpl-webserver-667f89bd9b-jmkwv   0/1     Pending   0          10s
    pod/dpl-webserver-667f89bd9b-pq8c5   0/1     Pending   0          10s
    ```
    –∫–∞–∫ –≤–∏–¥–Ω–æ –ø–æ–¥—ã —Å–æ–∑–¥–∞–ª–∏—Å—å, –Ω–æ –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª–∏—Å—å. - –≠—Ç–æ —Å–≤—è–∑–∞–Ω–Ω–æ —Å —Ç–µ–º, —á—Ç–æ —É –Ω–∞—Å –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –Ω–∞–ª–∏—á–∏–µ —É –Ω–æ–¥ –º–µ—Ç–∫–∏ homework —Å –∑–Ω–∞—á–µ–Ω–∏–µ–º true
    –¥–æ–±–∞–≤–∏–º LABEL homework=true –Ω–∞ –≤—Å–µ –Ω–æ–¥—ã ```kubectl label node $(kubectl get nodes | awk /mini/'{print $1}') homework=true```

  - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –ø–æ–¥—ã ``` kubectl get all --namespace homework | grep pod ```

    –≤ –æ—Ç–≤–µ—Ç –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –≤—ã–≤–æ–¥ 
    ``` console
    pod/dpl-webserver-667f89bd9b-2kfbd   1/1     Running   0          2d17h
    pod/dpl-webserver-667f89bd9b-cbxtk   1/1     Running   0          2d17h
    pod/dpl-webserver-667f89bd9b-q252d   1/1     Running   0          2d17h
    ```
    —Å—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –Ω–∞ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ.

  - –ø—Ä–æ–≤–µ—Ä–∏–º —á—Ç–æ –≤—Å–µ –∑–∞–ø—É—Å—Ç–∏–ª–æ—Å—å 
    –ø–æ–ª—É—á–∏–º —Å—Å—ã–ª–∫—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Ä–≤–∏—Å–∞
    ``` console 
    üòø  service homework/svc-webserver has no node port
    ‚ùó  Services [homework/svc-webserver] have type "ClusterIP" not meant to be exposed, however for local development minikube allows you to access this !
    http://127.0.0.1:53268
    ‚ùó  Because you are using a Docker driver on darwin, the terminal needs to be open to run it.
    ```
    –ø—Ä–æ–≤–µ—Ä–∏–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å ``` curl http://127.0.0.1:54587 ```    
    ```console
    My index html from HW 1
    ```
  - –ø—Ä–æ–≤–µ—Ä–∫–∞ rollingupdate
    –ò–∑–º–µ–Ω–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ deployment.yaml –∏ –∑–∞–ø—É—Å—Ç–∏–º –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
    ```Deployment.yaml
    .... echo "My index html from HW 1" > /init/index.html....
    ````
    –∑–∞–º–µ–Ω–∏–º —Ü–∏—Ñ—Ä—É 1 –Ω–∞ 2 –∏ –≤—ã–ø–æ–ª–Ω–∏–º –∫–æ–º–∞–Ω–¥—É ``` kubectl apply -f deployment.yaml ```
    ```
    –µ—Å–ª–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –ø–æ–¥–∞–º–∏ –º–æ–∂–Ω–æ —É–≤–∏–∏–¥–µ—Ç—å –∫–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ 
    –ø—Ä–∏ —ç—Ç–æ–º –≤—ã–∫–ª—é—á–µ–Ω–Ω—ã–º –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ 1 –ø–æ–¥ –∏–∑ 3—Ö —Å–æ–≥–ª–∞—Å–Ω–æ –ø–æ–ª–∏—Ç–∏–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤ –º–∞–Ω–∏—Ñ–µ—Å—Ç–µ
    ```
    NAMESPACE     NAME                               READY   STATUS            RESTARTS       AGE
    homework      dpl-webserver-5d7985877f-57ppc     0/1     PodInitializing   0              2s
    homework      dpl-webserver-5d7985877f-69kcx     1/1     Running           0              17s
    homework      dpl-webserver-5d7985877f-bnwr2     1/1     Running           0              17s
    ```

## PR checklist:
  - [kubernetes-controllers] –í—ã—Å—Ç–∞–≤–ª–µ–Ω label —Å —Ç–µ–º–æ–π –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è
